<ngstr-container size="md">
  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
    <mat-tab label="Overview">
      <ngstr-section>
        <ng-container ngStrSectionMain>
          <ngstr-header title="Link Authentication Element" />
          <p class="pt-4">
            The
            <ngstr-link url="https://stripe.com/docs/payments/link/add-link-elements-integration">
              Link Authentication Element
            </ngstr-link>
            enables seamless collection of email addresses and facilitates user login via Link on your checkout page.
            This embeddable component is designed to enhance the checkout experience by providing a streamlined authentication process.
          </p>
          <p>
            To gain a deeper understanding of the Link Authentication Element, consult the Stripe
            <ngstr-link url="https://stripe.com/docs/js/element/link_authentication_element">documentation</ngstr-link>.
          </p>
          <p>
            There are three primary methods to secure a customer's email address for Link authentication and enrollment:
          </p>
          <ul>
            <li>
              <strong>Pass in an Email Address:</strong> An email address can be supplied to the Payment Element using defaultValues.
              This method is recommended if you are already collecting the customer's email or phone number during the checkout process.
            </li>
            <li>
              <strong>Collect an Email Address:</strong> The Payment Element can be configured to collect an email address directly.
              Opt for this approach if the email address is not being collected elsewhere in the checkout flow.
            </li>
            <li>
              <strong>Link Authentication Element:</strong> Utilize the Link Authentication Element to create a dedicated input
              field for both email collection and Link authentication.
            </li>
          </ul>
          <p>
            This guide concentrates on the Link Authentication Element, as it necessitates the integration of a new element.
            For the other methods, refer to the Payment Element guide and ensure Link is enabled in your Stripe Account.
            For further details, visit the
            <ngstr-link url="https://stripe.com/docs/payments/link/add-link-elements-integration">
              Stripe documentation
            </ngstr-link>.
          </p>
      
          <ngstr-subheader subheader="Using the Link Authentication Element" link="use-link-authentication-element" />
          <p>
            The Link Authentication Element is ideal if you:
          </p>
          <ul>
            <li>Require a unified component for both email collection and Link authentication.</li>
            <li>Need to collect a shipping address from your customer.</li>
          </ul>
          <ngstr-panel type="info">
            Note that, unlike the
            <ngstr-link url="/docs/payment-element#stripe-elements-directive">
              Payment Element example
            </ngstr-link>
            , the email is not provided directly in the confirmPayment call when using the Link Authentication Element.
            This element autonomously handles the collection of email details.
          </ngstr-panel>
          <div class="mb-8"></div>
          <ngstr-code-group>
            <ngstr-code name="link-auth.component.html" [code]="linkAuthHTML" />
            <ngstr-code name="link-auth.component.ts" [code]="linkAuthTS" />
          </ngstr-code-group>
      
          <ngstr-subheader subheader="Retrieving the Email Address" link="retrieve-email" />
          <p>
            The email address can be obtained using the change event on the Link Authentication component.
            This event is triggered whenever the user updates the email field or when a saved customer email is auto-filled.
          </p>
          <ngstr-code-group>
            <ngstr-code name="link-auth.component.html" [code]="linkAuthChangeHTML" />
            <ngstr-code name="link-auth.component.ts" [code]="linkAuthChangeTS" />
          </ngstr-code-group>
        </ng-container>
      </ngstr-section>
    </mat-tab>
    <mat-tab label="API">
      <h2 class="pt-4">API Reference for Link Authentication Component</h2>
      <ngstr-highlight>import &lbrace; StripeLinkAuthenticationComponent &rbrace; from 'ngx-stripe'</ngstr-highlight>

      <h3 class="pt-4">Components</h3>
      <mat-divider></mat-divider>
      <p class="pt-4">StripeLinkAuthenticationComponent</p>
      <strong>Selector:</strong>
      <ngstr-highlight>ngx-stripe-link-authentication</ngstr-highlight>

      <h4 class="pt-4">
        <strong>Properties</strong>
      </h4>
      <table class="w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Input() <br />
              containerClass: string
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              A CSS class to add to the container element.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Input() <br />
              options: StripeLinkAuthenticationElementOptions
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              An object containing the configuration options for the Link Authentication Element.
              See the
              <ngstr-link url="https://stripe.com/docs/js/element/link_authentication_element/create">
                Stripe documentation
              </ngstr-link>
              for further details.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Input() <br />
              elementsOptions: StripeElementsOptions
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              <ngstr-badge color="red">
                DEPRECATED: USE <ngstr-link url="/docs/elements" color="red">ELEMENTS</ngstr-link> INSTEAD
              </ngstr-badge><br />
              An object containing the configuration options for the Stripe Elements instance.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Input() <br />
              stripe: StripeServiceInterface
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              <ngstr-badge color="red">
                DEPRECATED: USE <ngstr-link url="/docs/elements" color="red">ELEMENTS</ngstr-link> INSTEAD
              </ngstr-badge><br />
              The StripeServiceInterface instance to use when creating the Stripe Elements instance.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              load: EventEmitter&lt;<br/>
              StripeLinkAuthenticationElement<br/>
              &gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              <ngstr-badge color="blue">CUSTOM: NGX-STRIPE ONLY</ngstr-badge>
              It is triggered when the Angular Component is ready to be used.
              It emits the StripeLinkAuthentication Web Element instance.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              blur: EventEmitter&lt;void&gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              Triggered when the Element loses focus.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              change: EventEmitter&lt;<br/>
              StripeLinkAuthenticationElementChangeEvent<br/>
              &gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              The change event is triggered when the Element's value changes.
              The event payload always contains certain keys, in addition to some Element-specific keys.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              focus: EventEmitter&lt;void&gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              Triggered when the Element gains focus.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              ready: EventEmitter&lt;void&gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              Triggered when the Element is fully rendered and can accept element.focus calls.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              escape: EventEmitter&lt;void&gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              Triggered when the escape key is pressed within an Element.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              loaderror: EventEmitter&lt;void&gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              Triggered when the Element fails to load.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              &#64;Output() <br />
              loaderstart: EventEmitter&lt;void&gt;
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              Triggered when the loader UI is mounted to the DOM and ready to be displayed.
            </td>
          </tr>
          <tr>
            <td class="px-6 py-4  text-sm font-medium text-gray-900">
              element: StripeLinkAuthenticationElement
            </td>
            <td class="px-6 py-4  text-sm text-gray-500">
              The Stripe Link Authentication Element
            </td>
          </tr>
        </tbody>
      </table>
    </mat-tab>
  </mat-tab-group>
</ngstr-container>
